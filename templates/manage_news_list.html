{% extends 'layout.html' %}

{% block title %}Manage News{% endblock %}

{% block content %}
<main id="main" class="main">
  <div class="pagetitle">
    <h1>Manage News</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('account_page.dashboard') }}">Home</a></li>
        <li class="breadcrumb-item active">Manage News</li>
      </ol>
    </nav>
  </div><!-- End Page Title -->

  <section class="section">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">News</h5>
            
            <!-- Add Lesson Button -->
            <div class="mb-3">
              <a href="{{ url_for('news_page.add_news') }}" class="btn btn-primary btn-sm">Add News</a>
            </div>
            
            <!-- Lessons Table -->
            <table class="table table-hover datatable">
              <thead>
                <tr>
                  <th scope="col">Title</th>
                  <th scope="col">Content</th>
                  <th scope="col">Published Date</th>
                  <th scope="col">Author</th>
                </tr>
              </thead>
              <tbody>
                {% for news in news_list %}
                <tr>
                  <td><a href="{{ url_for('news_page.edit_news', news_id=news.news_id) }}" style="color:#009688;">{{ news.title }}</a></td>
                  <td>{{ news.content }}</td>
                  <td>{{ news.date_published }}</td>
                  <td>{{ news.first_name }} {{ news.last_name }}</td>
                </tr>
                {% else %}
                <tr>
                  <td colspan="6">No News to manage.</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <!-- End Lessons Table -->

          </div>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock %}
