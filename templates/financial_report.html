{% extends "layout.html" %}
{% block title %}Financial Report{% endblock %}

{% block content %}
<main id="main" class="main">
    <div class="pagetitle">
      <h1>Financial Report</h1>
      <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('account_page.dashboard') }}">Home</a></li>
          <li class="breadcrumb-item active">Financial Report</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Financial Report</h5>
              <!-- Filter Form -->
              <form class="row g-3 mb-4 align-items-center justify-content-between">
                <div class="col-auto">
                  <select class="form-select" id="totalYearFilter" name="totalYearFilter" onchange="this.form.submit()">
                    <option value="All" {% if year == 'All' %}selected{% endif %}>All Years</option>
                    <option value="2023" {% if year == '2023' %}selected{% endif %}>2023</option>
                    <option value="2024" {% if year == '2024' %}selected{% endif %}>2024</option>
                  </select>
                </div>
                <div class="col-auto">
                  <select class="form-select" id="totalMonthFilter" name="totalMonthFilter" onchange="this.form.submit()">
                    <option value="All" {% if month == 'All' %}selected{% endif %}>All Months</option>
                    <option value="January" {% if month == 'January' %}selected{% endif %}>January</option>
                    <option value="February" {% if month == 'February' %}selected{% endif %}>February</option>
                    <option value="March" {% if month == 'March' %}selected{% endif %}>March</option>
                    <option value="April" {% if month == 'April' %}selected{% endif %}>April</option>
                    <option value="May" {% if month == 'May' %}selected{% endif %}>May</option>
                    <option value="June" {% if month == 'June' %}selected{% endif %}>June</option>
                    <option value="July" {% if month == 'July' %}selected{% endif %}>July</option>
                    <option value="August" {% if month == 'August' %}selected{% endif %}>August</option>
                    <option value="September" {% if month == 'September' %}selected{% endif %}>September</option>
                    <option value="October" {% if month == 'October' %}selected{% endif %}>October</option>
                    <option value="November" {% if month == 'November' %}selected{% endif %}>November</option>
                    <option value="December" {% if month == 'December' %}selected{% endif %}>December</option>
                  </select>
                </div>
              </form>

              <!-- Data Table -->
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Category</th>
                    <th>Revenue</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Membership Subscriptions</td>
                    <td>${{ "{:,.2f}".format(membership_revenue or 0) }}</td>
                  </tr>
                  <tr>
                    <td>Workshops</td>
                    <td>${{ "{:,.2f}".format(workshop_revenue or 0) }}</td>
                  </tr>
                  <tr>
                    <td>One-on-One Lessons</td>
                    <td>${{ "{:,.2f}".format(lesson_revenue or 0) }}</td>
                  </tr>
                  <tr class="table-primary">
                    <th>Total Revenue</th>
                    <th>${{ "{:,.2f}".format(total_revenue or 0) }}</th>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>
</main><!-- End #main -->
{% endblock %}
